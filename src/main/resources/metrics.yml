  - id: "tablespace/used"
    sql: "select files.tablespace_name, round(((bytes - free_bytes) / maxbytes) * 100, 2) as \" \" from (select tablespace_name, sum(bytes) as bytes, sum(maxbytes) as maxbytes from (select tablespace_name, bytes, case autoextensible when 'YES' then maxbytes else bytes end as maxbytes from dba_data_files) group by tablespace_name) files, (select tablespace_name, sum(bytes) as free_bytes from dba_free_space group by tablespace_name) free where files.tablespace_name = free.tablespace_name order by free.tablespace_name"
    unit: "%"
    enabled: true
    descriptionColumnCount: "1"

  - id: "tablespace/free"
    sql: "select files.tablespace_name, round((100 - ((bytes - free_bytes) / maxbytes) * 100), 2) as \" \"  from (select tablespace_name, sum(bytes) as bytes, sum(maxbytes) as maxbytes from (select tablespace_name, bytes, case autoextensible when 'YES' then maxbytes else bytes end as maxbytes from dba_data_files) group by tablespace_name) files, (select tablespace_name, sum(bytes) as free_bytes from dba_free_space group by tablespace_name) free where files.tablespace_name = free.tablespace_name order by free.tablespace_name"
    unit: "%"
    enabled: true
    descriptionColumnCount: "1"

  - id: "tablespace/bytes"
    sql: "select files.tablespace_name, maxbytes as \"size\", bytes - free_bytes as \"used\", maxbytes - (bytes - free_bytes) as \"avail\" from (select tablespace_name, sum(bytes) as bytes, sum(maxbytes) as maxbytes from (select tablespace_name, bytes, case autoextensible when 'YES' then maxbytes else bytes end as maxbytes from dba_data_files) group by tablespace_name ) files, (select tablespace_name, sum(bytes) as free_bytes from dba_free_space group by tablespace_name) free where files.tablespace_name = free.tablespace_name order by free.tablespace_name"
    unit: "BYTES"
    enabled: true
    descriptionColumnCount: "1"

  - id: "tablespace_max_used"
    sql: "select max(round(((bytes - free_bytes) / maxbytes) * 100, 2)) as \" \" from (select tablespace_name, sum(bytes) as bytes, sum(maxbytes) as maxbytes from (select tablespace_name, bytes, case autoextensible when 'YES' then maxbytes else bytes end as maxbytes from dba_data_files) group by tablespace_name) files, (select tablespace_name, sum(bytes) as free_bytes from dba_free_space group by tablespace_name) free where files.tablespace_name = free.tablespace_name order by free.tablespace_name"
    unit: "%"
    enabled: true
    descriptionColumnCount: "0"

  - id: "sessions"
    sql: "select current_utilization as \"count\", max_utilization as \"highwater mark\", limit_value as \"limit\" from v$resource_limit where resource_name = 'sessions'"
    unit: "sessions"
    enabled: true
    descriptionColumnCount: "0"

#  - id: "sessions"
#    sql: "select sessions_current as \"count\" from v$license"
#    unit: "sessions"
#    enabled: true
#    descriptionColumnCount: "0"
#
#  - id: "sessions"
#    sql: "select sessions_highwater as \"highwater mark\" from v$license"
#    unit: "sessions"
#    enabled: true
#    descriptionColumnCount: "0"
#
#  - id: "sessions"
#    sql: "select limit_value as \"limit\" from v$resource_limit where resource_name = 'sessions'"
#    unit: "sessions"
#    enabled: true
#    descriptionColumnCount: "0"

  - id: "processes"
    sql: "select current_utilization as \"count\", max_utilization as \"highwater mark\", limit_value as \"limit\" from v$resource_limit where resource_name = 'processes'"
    unit: "processes"
    enabled: true
    descriptionColumnCount: "0"

  - id: "blocking session list"
    sql: "select sid || ',' || serial# || ' blocked by ' || s.blocking_session as \"session\" , s.seconds_in_wait as \" \" from v$session s where blocking_session is not null and s.seconds_in_wait > 60 order by s.seconds_in_wait"
    unit: "sec"
    enabled: true
    descriptionColumnCount: "1"

  - id: "blocking sessions"
    sql: "select count(1) as \" \" from v$session where blocking_session is not null"
    unit: "sessions"
    enabled: true
    descriptionColumnCount: "0"